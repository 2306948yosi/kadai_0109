<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>企業履歴</title>
  <style>
    body { font-family: sans-serif; max-width: 800px; margin: 30px auto; }
    .company { margin-top: 30px; }
    .entry {
      padding: 10px;
      border-left: 4px solid #333;
      margin-top: 10px;
      background: #f9f9f9;
    }
  </style>
</head>
<body>

<h1>企業履歴</h1>

<div id="list"></div>

<script>
async function loadHistory() {
  const res = await fetch("/api/company");
  const data = await res.json();
  const list = document.getElementById("list");

  for (const company in data) {
    const div = document.createElement("div");
    div.className = "company";
    div.innerHTML = `<h2>${company}</h2>`;

    data[company].forEach(item => {
      const e = document.createElement("div");
      e.className = "entry";
      e.innerHTML = `
        <div>ステータス：${item.status}</div>
        <div>日程：${item.date}</div>
        <div>メモ：${item.memo}</div>
      `;
      div.appendChild(e);
    });

    list.appendChild(div);
  }
}

loadHistory();
</script>

</body>
</html>