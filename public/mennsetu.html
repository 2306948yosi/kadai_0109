<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>面接練習</title>
  <style>
    body {
      font-family: sans-serif;
      max-width: 600px;
      margin: 30px auto;
    }
    .box {
      padding: 20px;
      background: #fff;
      border-radius: 8px;
      box-shadow: 0 0 5px rgba(0,0,0,0.1);
      margin-top: 20px;
      white-space: pre-wrap;
    }
    textarea {
      width: 100%;
      height: 120px;
      margin-top: 10px;
      padding: 10px;
      box-sizing: border-box;
    }
    button {
      margin-top: 15px;
    }
  </style>
</head>

<body>

<h1>面接練習</h1>

<button id="start-btn">質問を表示</button>

<div id="question-box" class="box" style="display:none;"></div>

<div id="answer-box" class="box" style="display:none;">
  <label><b>あなたの回答</b></label>
  <textarea id="user-answer"></textarea>
</div>

<div id="model-box" class="box" style="display:none;"></div>

<script>
const questions = [
  "自己紹介をお願いします。",
  "学生時代に力を入れたことは？",
  "あなたの強み・弱みは？",
  "この業界を選んだ理由は？",
  "弊社の志望動機を教えてください。",
  "挫折経験と学んだことは？",
  "5年後、10年後、どのようなポジションに就いていたいと思いますか？",
  "入社後、どのようなことをしたいですか"
];

const startBtn = document.getElementById("start-btn");
const showModelBtn = document.getElementById("show-model-btn");

const qBox = document.getElementById("question-box");
const aBox = document.getElementById("answer-box");
const mBox = document.getElementById("model-box");
const userAnswer = document.getElementById("user-answer");

let esData = {};

// ESをサーバーから取得
async function loadES() {
  const res = await fetch("/api/es");
  esData = await res.json();
}

loadES();


let currentQuestion = "";

startBtn.addEventListener("click", () => {
  const q = questions[Math.floor(Math.random() * questions.length)];
  currentQuestion = q;

  qBox.style.display = "block";
  qBox.innerText = "【質問】\n" + q;

  aBox.style.display = "block";
  userAnswer.value = "";

  mBox.style.display = "none";
});

</script>

</body>
</html>
